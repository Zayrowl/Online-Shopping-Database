CREATE TABLE CUSTOMER(
    custID NUMBER(4),
    custName VARCHAR2(100) NOT NULL,
    custPhone VARCHAR2(15) UNIQUE,
    custUsername VARCHAR2(50)UNIQUE,
    custPassword VARCHAR2(50) NOT NULL,
    custEmail VARCHAR2(50) UNIQUE,
    custPhoto VARCHAR2(50),
    custDOB DATE NOT NULL,
    custGender VARCHAR2(1),
    CONSTRAINT PK_custID PRIMARY KEY(custID)
);

CREATE TABLE WALLET(
    walletID VARCHAR2(10),
    balance NUMBER(10,2),
    custID NUMBER(4),
    CONSTRAINT PK_walletID PRIMARY KEY(walletID),
    CONSTRAINT FK_custID FOREIGN KEY(custID) REFERENCES CUSTOMER(custID) 
);

CREATE TABLE CUSTADDRESS(
    addrID VARCHAR2(10),
    detailedAddr VARCHAR2(100) NOT NULL,
    state VARCHAR2(50) NOT NULL,
    city VARCHAR2(50) NOT NULL,
    postcode VARCHAR2(5) NOT NULL,
    custID NUMBER(4),
    CONSTRAINT PK_addrID PRIMARY KEY(addrID),
    CONSTRAINT FK2_custID FOREIGN KEY(custID) REFERENCES CUSTOMER(custID) 
);

CREATE TABLE BANKDETAILS(
    bankNo VARCHAR2(30),
    bankName VARCHAR2(25) NOT NULL,
    custID NUMBER(4),
    CONSTRAINT PK_bankNo PRIMARY KEY(bankNo),
    CONSTRAINT FK3_custID FOREIGN KEY(custID) REFERENCES CUSTOMER(custID)
);

CREATE TABLE STORE(
    storeID VARCHAR2(10),
    storeName VARCHAR2(20) NOT NULL,
    storePhone VARCHAR2(15) NOT NULL,
    ratings NUMBER(3,2),
    dateJoined DATE NOT NULL,
    storeAddress VARCHAR2(200) NOT NULL,
    chatPerformance NUMBER(3) NOT NULL,
    CONSTRAINT PK_storeID PRIMARY KEY(storeID)
);

CREATE TABLE VOUCHER(
    voucherID VARCHAR2(10),
    expiryDate DATE NOT NULL,
    details VARCHAR2(255) NOT NULL,
    amount NUMBER(10) NOT NULL,
    CONSTRAINT PK_voucherID PRIMARY KEY(voucherID)
);

CREATE TABLE PROMOTION(
    promoID VARCHAR2(10),
    promoName VARCHAR2(30) NOT NULL,
    promoDesc VARCHAr2(255) NOT NULL,
    startDate DATE,
    endDate DATE,
    CONSTRAINT CHK_date CHECK (endDate > startDate),
    CONSTRAINT PK_promoID PRIMARY KEY(promoID)
);

CREATE TABLE COURIERCOMPANY(
    courierID VARCHAR2(10),
    courierName VARCHAR2(20) NOT NULL,
    CONSTRAINT PK_courierID PRIMARY KEY(courierID)
);

CREATE TABLE ORDERS(
    orderID VARCHAR2(10),
    orderDate DATE NOT NULL,
    orderTime VARCHAR2(5) NOT NULL,
    totalPrice NUMBER(10,2) NOT NULL,
    custID NUMBER(4),
    voucherID VARCHAR2(10),
    CONSTRAINT PK_orderID PRIMARY KEY(orderID),
    CONSTRAINT FK4_custID FOREIGN KEY(custID) REFERENCES CUSTOMER(custID),
    CONSTRAINT FK_voucherID FOREIGN KEY(voucherID) REFERENCES VOUCHER(voucherID)
);

CREATE TABLE PAYMENT(
    paymentID VARCHAR2(10),
    paymentDate DATE NOT NULL,
    paymentStatus VARCHAR2(30) NOT NULL,
    paymentTime VARCHAR2(5) NOT NULL,
    orderID VARCHAR2(10),
    CONSTRAINT PK_paymentID PRIMARY KEY(paymentID),
    CONSTRAINT FK_orderID FOREIGN KEY(orderID) REFERENCES ORDERS(orderID)
);

CREATE TABLE SHIPPINGDETAILS(
    shipID VARCHAR2(10),
    shipTime VARCHAR2(5) NOT NULL,
    shipDate DATE NOT NULL,
    weight NUMBER(5) NOT NULL,
    ShipCost NUMBER(2) NOT NULL,
    custID NUMBER(4),
    courierID VARCHAR2(10),
    orderID VARCHAR2(10),
    storeID VARCHAR2(10),
    addrID VARCHAR2(10),
    CONSTRAINT PK_shipID PRIMARY KEY(shipID),
    CONSTRAINT FK5_custID FOREIGN KEY(custID) REFERENCES CUSTOMER(custID),
    CONSTRAINT FK_courierID FOREIGN KEY(courierID) REFERENCES COURIERCOMPANY(courierID),
    CONSTRAINT FK2_orderID FOREIGN KEY(orderID) REFERENCES ORDERS(orderID),
    CONSTRAINT FK_storeID FOREIGN KEY(storeID) REFERENCES STORE(storeID),
    CONSTRAINT FK_addrID FOREIGN KEY(addrID) REFERENCES CUSTADDRESS(addrID)
);

CREATE TABLE PRODUCT(
    productID VARCHAR2(10),
    productName VARCHAR2(20) NOT NULL,
    stock NUMBER(4),
    itemsSold NUMBER(4),
    productPrice NUMBER(4) NOT NULL,
    variation VARCHAR2(200),
    category VARCHAR2(30) NOT NULL,
    brand VARCHAR2(30),
    warranty VARCHAR2(30),
    promoID VARCHAR(10),
    storeID VARCHAR(10),
    CONSTRAINT PK_productID PRIMARY KEY(productID),
    CONSTRAINT FK2_storeID FOREIGN KEY(storeID) REFERENCES STORE(storeID),
    CONSTRAINT FK_promoID FOREIGN KEY(promoID) REFERENCES PROMOTION(promoID)
);

CREATE TABLE ORDERPROD(
    ordprodID VARCHAR2(10),
    orderID VARCHAR2(10),
    productID VARCHAR2(10),
    CONSTRAINT PK_ordprodID PRIMARY KEY(ordprodID),
    CONSTRAINT FK3_orderID FOREIGN KEY(orderID) REFERENCES ORDERS(orderID),
    CONSTRAINT FK_productID FOREIGN KEY(productID) REFERENCES PRODUCT(productID)
);

CREATE TABLE FEEDBACK(
    feedbackID VARCHAR2(10),
    rating NUMBER(1) NOT NULL,
    feedbackPics VARCHAR2(30),
    feedbackDesc VARCHAR2(40),
    productID VARCHAR2(10),
    custID NUMBER(4),
    CONSTRAINT PK_feedbackID PRIMARY KEY(feedbackID),
    CONSTRAINT FK2_productID FOREIGN KEY(productID) REFERENCES PRODUCT(productID),
    CONSTRAINT FK6_custID FOREIGN KEY(custID) REFERENCES CUSTOMER(custID)
);

CREATE TABLE STAFF(
    staffID VARCHAR2(10),
    staffName VARCHAR2(30) NOT NULL,
    staffPhone VARCHAR2(15) UNIQUE,
    staffGender VARCHAR2(1),
    staffDOB DATE,
    staffEmail VARCHAR2(30) UNIQUE,
    staffPhoto VARCHAR2(30) NOT NULL,
    storeID VARCHAR2(10),
    CONSTRAINT PK_staffID PRIMARY KEY(staffID),
    CONSTRAINT FK3_storeID FOREIGN KEY(storeID) REFERENCES STORE(storeID)
);

INSERT INTO CUSTOMER VALUES(1001, 'Iman', '0107695331', 'Imannnaina', 'Imanroslan','iman@gmail.com','Iman.jpeg','28-OCT-2000','F');
INSERT INTO CUSTOMER VALUES(1002, 'Zahirul', '0102345678', 'Zahirul02', 'Zahirul@iman','zahirul@gmail.com','Zahirul.jpeg','23-JUL-2001','M');
INSERT INTO CUSTOMER VALUES(1003, 'Izzah', '0198765346', 'Izzahhh11', 'Izzah123@','izzah@gmail.com','Izzah.jpeg','4-MAR-2002','F');
INSERT INTO CUSTOMER VALUES(1004, 'Syahmie', '0191124563', 'syahmieZak', 'Syahmi672','syahmie@gmail.com','Syahmie.jpeg','12-MAY-2003','M');
INSERT INTO CUSTOMER VALUES(1005, 'Luqman', '0198273543', 'Luqman78', 'luq@112','luqman@gmail.com','Luqman.jpeg','23-JUN-2000','M');

INSERT INTO WALLET VALUES('AP1001', 50.00, 1001);
INSERT INTO WALLET VALUES('AP1002', 190.99, 1002);
INSERT INTO WALLET VALUES('AP1003', 200.30, 1003);
INSERT INTO WALLET VALUES('AP1004', 78.00, 1004);
INSERT INTO WALLET VALUES('AP1005', 90.00, 1005);

INSERT INTO CUSTADDRESS VALUES('AD1001','No 3, Jln 8/10 Taman Sri Gombak','Selangor','Gombak','68100',1001);
INSERT INTO CUSTADDRESS VALUES('AD1002','No 2, Jln Taman Mawar 3','Perak','Tronoh','62100',1002);
INSERT INTO CUSTADDRESS VALUES('AD1003','No 4, Pangsapuri Mewah','Kuala Lumpur','Ampang','53100',1003);
INSERT INTO CUSTADDRESS VALUES('AD1004','No 3, Jalan Indah 4','Selangor','Serdang','32000',1004);
INSERT INTO CUSTADDRESS VALUES('AD1005','No 15, Jalan Merpati 6','Kuala Lumpur','Sentul','21000',1005);

INSERT INTO BANKDETAILS VALUES('1000200030004000', 'Maybank', 1001);
INSERT INTO BANKDETAILS VALUES('1234567890213456', 'CIMB', 1002);
INSERT INTO BANKDETAILS VALUES('3425777789029999', 'Bank Islam', 1003);
INSERT INTO BANKDETAILS VALUES('4444123456789999', 'RHB', 1004);
INSERT INTO BANKDETAILS VALUES('2323444465781111', 'Public Bank', 1005);

INSERT INTO STORE VALUES('ST1001', 'FluffyPillows', '0187694657', 5, '12-MAR-2021', 'No 3, Jalan Kilang, Selangor', 97);
INSERT INTO STORE VALUES('ST1002', 'Foodies', '0125634526', 4.5, '13-MAY-2021', 'No 4, Jalan Baru Bangi, Selangor', 99);
INSERT INTO STORE VALUES('ST1003', 'HeavenClothes', '0176453689', 3, '14-JUL-2021', 'No 2, Jalan Lily, Kuala Lumpur', 85);
INSERT INTO STORE VALUES('ST1004', 'Shoeswalk', '0187457390', 4, '23-JAN-2021', 'No 3, Melawati Mall, Kuala Lumpur', 90);
INSERT INTO STORE VALUES('ST1005', 'QuteyMeow', '0143526891', 5, '30-APR-2021', '4-3, MegaMind, Putrajaya', 95);

INSERT INTO VOUCHER VALUES('VC1001', '23-MAR-2022', 'Eligible for every store', 5);
INSERT INTO VOUCHER VALUES('VC1002', '4-APR-2021', 'Total order price must exceed RM 25', 7);
INSERT INTO VOUCHER VALUES('VC1003', '5-JUN-2021', 'Eligible for every store', 8);
INSERT INTO VOUCHER VALUES('VC1004', '31-AUG-2021', 'Must not use with another voucher', 10);
INSERT INTO VOUCHER VALUES('VC1005', '23-JUL-2022', 'Total order price must exceed RM 5', 3);

INSERT INTO PROMOTION VALUES('PR1001', 'Buy1Free1', 'Buy 1 item get 1 free. Eligible for stationery items.', '10-MAR-2021', '20-MAR-2021');
INSERT INTO PROMOTION VALUES('PR1002', 'Buy3Get2Free', 'Eligible for every store', '10-MAY-2021', '30-MAY-2021');
INSERT INTO PROMOTION VALUES('PR1003', '7/7', 'Eligible for every store. Up to 70% percent off.', '1-JUL-2021', '7-JUL-2021');
INSERT INTO PROMOTION VALUES('PR1004', '8/8', 'Eligible for every store. Up to 90% percent off.', '1-AUG-2021', '8-AUG-2021');
INSERT INTO PROMOTION VALUES('PR1005', 'PayDay', '30% for all items.', '28-APR-2021', '30-APR-2021');

INSERT INTO COURIERCOMPANY VALUES ('CR1001', 'POSLAJU');
INSERT INTO COURIERCOMPANY VALUES ('CR1002', 'DHL');
INSERT INTO COURIERCOMPANY VALUES ('CR1003', 'SKYNET');
INSERT INTO COURIERCOMPANY VALUES ('CR1004', 'NINJAVAN');
INSERT INTO COURIERCOMPANY VALUES ('CR1005', 'J&T');

INSERT INTO ORDERS VALUES('OR1001', '8-OCT-2021', '14:05', 20.00, 1001, 'VC1001');
INSERT INTO ORDERS VALUES('OR1002', '9-OCT-2021', '13:09', 30.00, 1002, 'VC1002');
INSERT INTO ORDERS VALUES('OR1003', '10-OCT-2021', '23:57', 30.00, 1003, 'VC1003');
INSERT INTO ORDERS VALUES('OR1004', '8-NOV-2021', '00:40', 20.00, 1004, 'VC1004');
INSERT INTO ORDERS VALUES('OR1005', '12-NOV-2021', '13:20', 25.00, 1005, 'VC1005');

INSERT INTO PAYMENT VALUES('PY1001', '8-OCT-2021', 'Completed', '14:10', 'OR1001');
INSERT INTO PAYMENT VALUES('PY1002', '9-OCT-2021', 'Completed', '13:12', 'OR1002');
INSERT INTO PAYMENT VALUES('PY1003', '10-OCT-2021', 'Completed', '00:01', 'OR1003');
INSERT INTO PAYMENT VALUES('PY1004', '8-NOV-2021', 'Completed', '00:45', 'OR1004');
INSERT INTO PAYMENT VALUES('PY1005', '8-NOV-2021', 'Completed', '13:23', 'OR1005');

INSERT INTO SHIPPINGDETAILS VALUES('SH1001', '14:00', '12-OCT-2021', 5, 5, 1001, 'CR1001', 'OR1001', 'ST1001', 'AD1001');
INSERT INTO SHIPPINGDETAILS VALUES('SH1002', '13:50', '13-OCT-2021', 5, 5, 1002, 'CR1001', 'OR1002', 'ST1001', 'AD1002');
INSERT INTO SHIPPINGDETAILS VALUES('SH1003', '12:00', '13-OCT-2021', 5, 5, 1003, 'CR1002', 'OR1003', 'ST1002', 'AD1003');
INSERT INTO SHIPPINGDETAILS VALUES('SH1004', '09:40', '13-NOV-2021', 5, 7, 1001, 'CR1005', 'OR1004', 'ST1004', 'AD1001');
INSERT INTO SHIPPINGDETAILS VALUES('SH1005', '08:30', '13-NOV-2021', 3, 5, 1005, 'CR1003', 'OR1005', 'ST1005', 'AD1005');

INSERT INTO PRODUCT VALUES('PD1001', 'Satin pillowcase',100, 150, 10, 'Colour: White, Red, Yellow', 'Bedding', 'Jery Peans', 'No warranty', 'PR1002', 'ST1001');
INSERT INTO PRODUCT VALUES('PD1002', 'Ramen Cheese',10, 100, 5, 'Flavour: Spicy, Original', 'Food', 'Dakgalbi', 'No warranty', 'PR1003', 'ST1002');
INSERT INTO PRODUCT VALUES('PD1003', 'Cotton Blouse',10, 20, 25, 'Colour: White, Blue', 'Clothing', 'Padini', 'No warranty', 'PR1004', 'ST1003');
INSERT INTO PRODUCT VALUES('PD1004', 'Boot',5, 50, 30, 'Size: 35,37,38,40', 'Shoes', 'XES', '3 months', 'PR1005', 'ST1004');
INSERT INTO PRODUCT VALUES('PD1005', 'Slime',20, 100, 1, 'Colour: Pink, yellow, purple', 'Entertaintment', 'No brand', 'No warranty', Null, 'ST1005');

INSERT INTO ORDERPROD VALUES('ORP1001', 'OR1001', 'PD1001'); 
INSERT INTO ORDERPROD VALUES('ORP1002', 'OR1002', 'PD1004'); 
INSERT INTO ORDERPROD VALUES('ORP1003', 'OR1003', 'PD1004'); 
INSERT INTO ORDERPROD VALUES('ORP1004', 'OR1004', 'PD1001'); 
INSERT INTO ORDERPROD VALUES('ORP1005', 'OR1005', 'PD1003'); 

INSERT INTO FEEDBACK VALUES('FD1001', 5, 'Satin.jpeg', 'Very smooth', 'PD1001', 1001);
INSERT INTO FEEDBACK VALUES('FD1002', 5, 'Boot.jpeg', 'So comfy', 'PD1004', 1002);
INSERT INTO FEEDBACK VALUES('FD1003', 5, 'Shoes.jpeg', 'Fits perfectly', 'PD1004', 1003);
INSERT INTO FEEDBACK VALUES('FD1004', 5, null, 'Very nice', 'PD1001', 1001);
INSERT INTO FEEDBACK VALUES('FD1005', 5, null, 'So comfy and cool', 'PD1003', 1005);

INSERT INTO STAFF VALUES('SF101', 'Khairul', '0197346527', 'M', '8-OCT-1997', 'khairul@gmail.com', 'Khairul.jpeg', 'ST1001');
INSERT INTO STAFF VALUES('SF102', 'Ikmal', '0123456789', 'M', '9-MAY-1995', 'ikaml@gmail.com', 'Ikmal.jpeg', 'ST1001');
INSERT INTO STAFF VALUES('SF103', 'Farhan', '0198376511', 'M', '10-SEP-1996', 'farhan@gmail.com', 'Farhan.jpeg', 'ST1003');
INSERT INTO STAFF VALUES('SF104', 'Amy', '0123455555', 'F', '27-NOV-1998', 'amy@gmail.com', 'Amy.jpeg', 'ST1004');
INSERT INTO STAFF VALUES('SF105', 'Lily', '0135678888', 'F', '30-NOV-1995', 'lily@gmail.com', 'Lily.jpeg', 'ST1005');

SELECT * FROM CUSTOMER;
SELECT * FROM WALLET;
SELECT * FROM CUSTADDRESS;
SELECT * FROM BANKDETAILS;
SELECT * FROM STORE;
SELECT * FROM VOUCHER;
SELECT * FROM PROMOTION;
SELECT * FROM COURIERCOMPANY;
SELECT * FROM ORDERS;
SELECT * FROM PAYMENT;
SELECT * FROM SHIPPINGDETAILS;
SELECT * FROM PRODUCT;
SELECT * FROM ORDERPROD;
SELECT * FROM FEEDBACK;
SELECT * FROM STAFF;